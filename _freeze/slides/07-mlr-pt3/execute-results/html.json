{
  "hash": "27939145017b6dd2900a11a5222a89c4",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Multiple linear regression\"\nsubtitle: \"Types of predictors cont'd + Model comparison\"\ndate: \"2025-01-30\"\ndate-format: \"MMM DD, YYYY\"\nauthor: \"Prof. Maria Tackett\"\nfooter: \"[ðŸ”— STA 221 - Spring 2025](https://sta221-sp25.netlify.app)\"\nlogo: \"../images/logo.png\"\nformat: \n  revealjs: \n    theme: slides.scss\n    multiplex: false\n    transition: fade\n    slide-number: true\n    incremental: false \n    chalkboard: true\n    include-before: [ '<script type=\"text/x-mathjax-config\">MathJax.Hub.Config({tex2jax: {enableAssistiveMml: false}});</script>']\n  html: \n    output-file: 07-mlr-pt3-notes.html\nhtml-math-method:\n  method: mathjax\n  url: \"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\"\nexecute:\n  freeze: auto\n  echo: true\nknitr:\n  opts_chunk: \n    R.options:      \n    width: 200\nbibliography: references.bib\n---\n\n\n\n\n## Announcements\n\n-   HW 01 due **TODAY** at 11:59pm\n\n-   Team labs start on Friday\n\n-   [Click here](https://prodduke.sharepoint.com/:p:/s/ARCStaff839/EZ4PKTRTlCVMpFZiR6XoRycB4UUlRMuI2_Rda9hKxNZtsA) to learn more about the Academic Resource Center\n\n-   [Statistics experience](../hw/stats-experience.html) due **Tuesday, April 22**\n\n## Topics\n\n-   Centering quantitative predictors\n\n-   Standardizing quantitative predictors\n\n-   Interaction terms\n\n-   Model comparison\n\n    -   RMSE\n\n    -   $Adj. R^2$\n\n## Computing setup\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# load packages\nlibrary(tidyverse)\nlibrary(tidymodels)\nlibrary(openintro)\nlibrary(patchwork)\nlibrary(knitr)\nlibrary(kableExtra)\nlibrary(viridis) #adjust color palette\n\n# set default theme and larger font size for ggplot2\nggplot2::theme_set(ggplot2::theme_minimal(base_size = 16))\n```\n:::\n\n\n\n\n## Data: Peer-to-peer lender\n\nToday's data is a sample of 50 loans made through a peer-to-peer lending club. The data is in the `loan50` data frame in the **openintro** R package.\n\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 50 Ã— 4\n   annual_income_th debt_to_income verified_income interest_rate\n              <dbl>          <dbl> <fct>                   <dbl>\n 1             59           0.558  Not Verified            10.9 \n 2             60           1.31   Not Verified             9.92\n 3             75           1.06   Verified                26.3 \n 4             75           0.574  Not Verified             9.92\n 5            254           0.238  Not Verified             9.43\n 6             67           1.08   Source Verified          9.92\n 7             28.8         0.0997 Source Verified         17.1 \n 8             80           0.351  Not Verified             6.08\n 9             34           0.698  Not Verified             7.97\n10             80           0.167  Source Verified         12.6 \n# â„¹ 40 more rows\n```\n\n\n:::\n:::\n\n\n\n\n## Variables\n\n**Predictors**:\n\n::: nonincremental\n-   `annual_income_th`: Annual income (in \\$1000s)\n-   `debt_to_income`: Debt-to-income ratio, i.e. the percentage of a borrower's total debt divided by their total income\n-   `verified_income`: Whether borrower's income source and amount have been verified (`Not Verified`, `Source Verified`, `Verified`)\n:::\n\n**Response**: `interest_rate`: Interest rate for the loan\n\n## Response vs. predictors {.small}\n\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](07-mlr-pt3_files/figure-revealjs/unnamed-chunk-2-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n\n\n**Goal**: Use these predictors in a single model to understand variability in interest rate.\n\n## Model fit in R\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nint_fit <- lm(interest_rate ~ debt_to_income + verified_income  + annual_income_th,\n              data = loan50)\n\ntidy(int_fit) |>\n  kable(digits = 3)\n```\n\n::: {.cell-output-display}\n\n\n|term                           | estimate| std.error| statistic| p.value|\n|:------------------------------|--------:|---------:|---------:|-------:|\n|(Intercept)                    |   10.726|     1.507|     7.116|   0.000|\n|debt_to_income                 |    0.671|     0.676|     0.993|   0.326|\n|verified_incomeSource Verified |    2.211|     1.399|     1.581|   0.121|\n|verified_incomeVerified        |    6.880|     1.801|     3.820|   0.000|\n|annual_income_th               |   -0.021|     0.011|    -1.804|   0.078|\n\n\n:::\n:::\n\n\n\n\n# Categorical predictors\n\n## Interpreting `verified_income` {.small}\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> term </th>\n   <th style=\"text-align:right;\"> estimate </th>\n   <th style=\"text-align:right;\"> std.error </th>\n   <th style=\"text-align:right;\"> statistic </th>\n   <th style=\"text-align:right;\"> p.value </th>\n   <th style=\"text-align:right;\"> conf.low </th>\n   <th style=\"text-align:right;\"> conf.high </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> (Intercept) </td>\n   <td style=\"text-align:right;\"> 10.726 </td>\n   <td style=\"text-align:right;\"> 1.507 </td>\n   <td style=\"text-align:right;\"> 7.116 </td>\n   <td style=\"text-align:right;\"> 0.000 </td>\n   <td style=\"text-align:right;\"> 7.690 </td>\n   <td style=\"text-align:right;\"> 13.762 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> debt_to_income </td>\n   <td style=\"text-align:right;\"> 0.671 </td>\n   <td style=\"text-align:right;\"> 0.676 </td>\n   <td style=\"text-align:right;\"> 0.993 </td>\n   <td style=\"text-align:right;\"> 0.326 </td>\n   <td style=\"text-align:right;\"> -0.690 </td>\n   <td style=\"text-align:right;\"> 2.033 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;background-color: rgba(220, 229, 178, 255) !important;\"> verified_incomeSource Verified </td>\n   <td style=\"text-align:right;background-color: rgba(220, 229, 178, 255) !important;\"> 2.211 </td>\n   <td style=\"text-align:right;background-color: rgba(220, 229, 178, 255) !important;\"> 1.399 </td>\n   <td style=\"text-align:right;background-color: rgba(220, 229, 178, 255) !important;\"> 1.581 </td>\n   <td style=\"text-align:right;background-color: rgba(220, 229, 178, 255) !important;\"> 0.121 </td>\n   <td style=\"text-align:right;background-color: rgba(220, 229, 178, 255) !important;\"> -0.606 </td>\n   <td style=\"text-align:right;background-color: rgba(220, 229, 178, 255) !important;\"> 5.028 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;background-color: rgba(220, 229, 178, 255) !important;\"> verified_incomeVerified </td>\n   <td style=\"text-align:right;background-color: rgba(220, 229, 178, 255) !important;\"> 6.880 </td>\n   <td style=\"text-align:right;background-color: rgba(220, 229, 178, 255) !important;\"> 1.801 </td>\n   <td style=\"text-align:right;background-color: rgba(220, 229, 178, 255) !important;\"> 3.820 </td>\n   <td style=\"text-align:right;background-color: rgba(220, 229, 178, 255) !important;\"> 0.000 </td>\n   <td style=\"text-align:right;background-color: rgba(220, 229, 178, 255) !important;\"> 3.253 </td>\n   <td style=\"text-align:right;background-color: rgba(220, 229, 178, 255) !important;\"> 10.508 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> annual_income_th </td>\n   <td style=\"text-align:right;\"> -0.021 </td>\n   <td style=\"text-align:right;\"> 0.011 </td>\n   <td style=\"text-align:right;\"> -1.804 </td>\n   <td style=\"text-align:right;\"> 0.078 </td>\n   <td style=\"text-align:right;\"> -0.043 </td>\n   <td style=\"text-align:right;\"> 0.002 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n\n::: incremental\n-   The baseline level is `Not verified`.\n-   People with source verified income are expected to take a loan with an interest rate that is 2.211% higher, on average, than the rate on loans to those whose income is not verified, holding all else constant.\n:::\n\n## Centering {.midi}\n\n-   Centering a quantitative predictor means shifting every value by some constant $C$\n\n$$\nX_{cent} = X  - C\n$$\n\n-   One common type of centering is **mean-centering**, in which every value of a predictor is shifted by its mean\n\n-   Only quantitative predictors are centered\n\n-   Center all quantitative predictors in the model for ease of interpretation\n\n::: question\nWhat is one reason one might want to center the quantitative predictors? What is are the units of centered variables?\n:::\n\n## Centering {.midi}\n\nUse the `scale()` function with `center = TRUE` and `scale = FALSE` to mean-center variables\n\n\n\n\n::: {.cell output-location='fragment'}\n\n```{.r .cell-code}\nloan50 <- loan50 |>\n  mutate(debt_to_inc_cent = scale(debt_to_income, center = TRUE, scale = FALSE), \n         annual_inc_cent = scale(annual_income_th, center = TRUE, scale = FALSE))\n\nlm(interest_rate ~ debt_to_inc_cent + verified_income + annual_inc_cent, data = loan50) |> \n  tidy() |> kable(digits = 3)\n```\n\n::: {.cell-output-display}\n\n\n|term                           | estimate| std.error| statistic| p.value|\n|:------------------------------|--------:|---------:|---------:|-------:|\n|(Intercept)                    |    9.444|     0.977|     9.663|   0.000|\n|debt_to_inc_cent               |    0.671|     0.676|     0.993|   0.326|\n|verified_incomeSource Verified |    2.211|     1.399|     1.581|   0.121|\n|verified_incomeVerified        |    6.880|     1.801|     3.820|   0.000|\n|annual_inc_cent                |   -0.021|     0.011|    -1.804|   0.078|\n\n\n:::\n:::\n\n\n\n\n## Centering\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n\n|Term                           | Original Model| Centered Model|\n|:------------------------------|--------------:|--------------:|\n|(Intercept)                    |         10.726|          9.444|\n|debt_to_income                 |          0.671|          0.671|\n|verified_incomeSource Verified |          2.211|          2.211|\n|verified_incomeVerified        |          6.880|          6.880|\n|annual_income_th               |         -0.021|         -0.021|\n\n\n:::\n:::\n\n\n\n\n::: question\nHow has the model changed? How has the model remained the same?\n:::\n\n## Standardizing {.midi}\n\n-   Standardizing a quantitative predictor mean shifting every value by the mean and dividing by the standard deviation of that variable\n\n$$\nX_{std} = \\frac{X - \\bar{X}}{S_X}\n$$\n\n-   Only quantitative predictors are standardized\n\n-   Standardize all quantitative predictors in the model for ease of interpretation\n\n::: question\nWhat is one reason one might want to standardize the quantitative predictors? What is are the units of standardized variables?\n:::\n\n## Standardizing {.midi}\n\nUse the `scale()` function with `center = TRUE` and `scale = TRUE` to standardized variables\n\n\n\n\n::: {.cell output-location='fragment'}\n\n```{.r .cell-code}\nloan50 <- loan50 |>\n  mutate(debt_to_inc_std = scale(debt_to_income, center = TRUE, scale = TRUE), \n         annual_inc_std = scale(annual_income_th, center = TRUE, scale = TRUE))\n\nlm(interest_rate ~ debt_to_inc_std + verified_income + annual_inc_std, data = loan50) |>\n  tidy() |> kable(digits = 3)\n```\n\n::: {.cell-output-display}\n\n\n|term                           | estimate| std.error| statistic| p.value|\n|:------------------------------|--------:|---------:|---------:|-------:|\n|(Intercept)                    |    9.444|     0.977|     9.663|   0.000|\n|debt_to_inc_std                |    0.643|     0.648|     0.993|   0.326|\n|verified_incomeSource Verified |    2.211|     1.399|     1.581|   0.121|\n|verified_incomeVerified        |    6.880|     1.801|     3.820|   0.000|\n|annual_inc_std                 |   -1.180|     0.654|    -1.804|   0.078|\n\n\n:::\n:::\n\n\n\n\n## Standardizing\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n\n|Term                           | Original Model| Standardized Model|\n|:------------------------------|--------------:|------------------:|\n|(Intercept)                    |         10.726|              9.444|\n|debt_to_income                 |          0.671|              0.643|\n|verified_incomeSource Verified |          2.211|              2.211|\n|verified_incomeVerified        |          6.880|              6.880|\n|annual_income_th               |         -0.021|             -1.180|\n\n\n:::\n:::\n\n\n\n\n::: question\nHow has the model changed? How has the model remained the same?\n:::\n\n# Interaction terms\n\n## Interaction terms\n\n-   Sometimes the relationship between a predictor variable and the response depends on the value of another predictor variable.\n-   This is an **interaction effect**.\n-   To account for this, we can include **interaction terms** in the model.\n\n## Interest rate vs. annual income\n\nThe lines are not parallel indicating there is a potential **interaction effect**. The slope of annual income differs based on the income verification.\n\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](07-mlr-pt3_files/figure-revealjs/unnamed-chunk-9-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n\n\n## Interaction term in model {.smaller}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nint_fit_2 <- lm(interest_rate ~ debt_to_income + verified_income + annual_income_th + verified_income * annual_income_th,\n      data = loan50)\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> term </th>\n   <th style=\"text-align:right;\"> estimate </th>\n   <th style=\"text-align:right;\"> std.error </th>\n   <th style=\"text-align:right;\"> statistic </th>\n   <th style=\"text-align:right;\"> p.value </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> (Intercept) </td>\n   <td style=\"text-align:right;\"> 9.560 </td>\n   <td style=\"text-align:right;\"> 2.034 </td>\n   <td style=\"text-align:right;\"> 4.700 </td>\n   <td style=\"text-align:right;\"> 0.000 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> debt_to_income </td>\n   <td style=\"text-align:right;\"> 0.691 </td>\n   <td style=\"text-align:right;\"> 0.685 </td>\n   <td style=\"text-align:right;\"> 1.009 </td>\n   <td style=\"text-align:right;\"> 0.319 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> verified_incomeSource Verified </td>\n   <td style=\"text-align:right;\"> 3.577 </td>\n   <td style=\"text-align:right;\"> 2.539 </td>\n   <td style=\"text-align:right;\"> 1.409 </td>\n   <td style=\"text-align:right;\"> 0.166 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> verified_incomeVerified </td>\n   <td style=\"text-align:right;\"> 9.923 </td>\n   <td style=\"text-align:right;\"> 3.654 </td>\n   <td style=\"text-align:right;\"> 2.716 </td>\n   <td style=\"text-align:right;\"> 0.009 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> annual_income_th </td>\n   <td style=\"text-align:right;\"> -0.007 </td>\n   <td style=\"text-align:right;\"> 0.020 </td>\n   <td style=\"text-align:right;\"> -0.341 </td>\n   <td style=\"text-align:right;\"> 0.735 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;background-color: rgba(220, 229, 178, 255) !important;\"> verified_incomeSource Verified:annual_income_th </td>\n   <td style=\"text-align:right;background-color: rgba(220, 229, 178, 255) !important;\"> -0.016 </td>\n   <td style=\"text-align:right;background-color: rgba(220, 229, 178, 255) !important;\"> 0.026 </td>\n   <td style=\"text-align:right;background-color: rgba(220, 229, 178, 255) !important;\"> -0.643 </td>\n   <td style=\"text-align:right;background-color: rgba(220, 229, 178, 255) !important;\"> 0.523 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;background-color: rgba(220, 229, 178, 255) !important;\"> verified_incomeVerified:annual_income_th </td>\n   <td style=\"text-align:right;background-color: rgba(220, 229, 178, 255) !important;\"> -0.032 </td>\n   <td style=\"text-align:right;background-color: rgba(220, 229, 178, 255) !important;\"> 0.033 </td>\n   <td style=\"text-align:right;background-color: rgba(220, 229, 178, 255) !important;\"> -0.979 </td>\n   <td style=\"text-align:right;background-color: rgba(220, 229, 178, 255) !important;\"> 0.333 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n\n## Interaction term in model {.midi}\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> term </th>\n   <th style=\"text-align:right;\"> estimate </th>\n   <th style=\"text-align:right;\"> std.error </th>\n   <th style=\"text-align:right;\"> statistic </th>\n   <th style=\"text-align:right;\"> p.value </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> (Intercept) </td>\n   <td style=\"text-align:right;\"> 9.560 </td>\n   <td style=\"text-align:right;\"> 2.034 </td>\n   <td style=\"text-align:right;\"> 4.700 </td>\n   <td style=\"text-align:right;\"> 0.000 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> debt_to_income </td>\n   <td style=\"text-align:right;\"> 0.691 </td>\n   <td style=\"text-align:right;\"> 0.685 </td>\n   <td style=\"text-align:right;\"> 1.009 </td>\n   <td style=\"text-align:right;\"> 0.319 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> verified_incomeSource Verified </td>\n   <td style=\"text-align:right;\"> 3.577 </td>\n   <td style=\"text-align:right;\"> 2.539 </td>\n   <td style=\"text-align:right;\"> 1.409 </td>\n   <td style=\"text-align:right;\"> 0.166 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> verified_incomeVerified </td>\n   <td style=\"text-align:right;\"> 9.923 </td>\n   <td style=\"text-align:right;\"> 3.654 </td>\n   <td style=\"text-align:right;\"> 2.716 </td>\n   <td style=\"text-align:right;\"> 0.009 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> annual_income_th </td>\n   <td style=\"text-align:right;\"> -0.007 </td>\n   <td style=\"text-align:right;\"> 0.020 </td>\n   <td style=\"text-align:right;\"> -0.341 </td>\n   <td style=\"text-align:right;\"> 0.735 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;background-color: rgba(220, 229, 178, 255) !important;\"> verified_incomeSource Verified:annual_income_th </td>\n   <td style=\"text-align:right;background-color: rgba(220, 229, 178, 255) !important;\"> -0.016 </td>\n   <td style=\"text-align:right;background-color: rgba(220, 229, 178, 255) !important;\"> 0.026 </td>\n   <td style=\"text-align:right;background-color: rgba(220, 229, 178, 255) !important;\"> -0.643 </td>\n   <td style=\"text-align:right;background-color: rgba(220, 229, 178, 255) !important;\"> 0.523 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;background-color: rgba(220, 229, 178, 255) !important;\"> verified_incomeVerified:annual_income_th </td>\n   <td style=\"text-align:right;background-color: rgba(220, 229, 178, 255) !important;\"> -0.032 </td>\n   <td style=\"text-align:right;background-color: rgba(220, 229, 178, 255) !important;\"> 0.033 </td>\n   <td style=\"text-align:right;background-color: rgba(220, 229, 178, 255) !important;\"> -0.979 </td>\n   <td style=\"text-align:right;background-color: rgba(220, 229, 178, 255) !important;\"> 0.333 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n\n::: question\n-   Write the regression equation for the people with `Not Verified` income.\n\n-   Write the regression equation for people with `Verified` income.\n:::\n\n## Interpreting interaction terms\n\n-   What the interaction means: The effect of annual income on the interest rate differs by -0.016 when the income is source verified compared to when it is not verified, holding all else constant.\n-   Interpreting `annual_income` for source verified: If the income is source verified, we expect the interest rate to decrease by 0.023% (-0.007 + -0.016) for each additional thousand dollars in annual income, holding all else constant.\n\n## Summary\n\n::: question\nIn general, how do\n\n-   indicators for categorical predictors impact the model equation?\n\n-   interaction terms impact the model equation?\n:::\n\n# Model comparison\n\n## Model assessment: RMSE & $R^2$\n\n-   **Root mean square error, RMSE**: A measure of the average error (average difference between observed and predicted values of the outcome)\n\n-   **R-squared**, $R^2$ : Percentage of variability in the outcome explained by the regression model\n\n## Comparing models\n\n::: incremental\n-   When comparing models, do we prefer the model with the lower or higher RMSE?\n\n-   Though we use $R^2$ to assess the model fit, it is generally unreliable for comparing models with different number of predictors. Why?\n\n    -   $R^2$ will stay the same or increase as we add more variables to the model . Let's show why this is true.\n\n    -   If we only use $R^2$ to choose a best fit model, we will be prone to choose the model with the most predictor variables.\n:::\n\n## Adjusted $R^2$\n\n-   **Adjusted** $R^2$: measure that includes a penalty for unnecessary predictor variables\n-   Similar to $R^2$, it is a measure of the amount of variation in the response that is explained by the regression model\n-   Use the `glance()` function to get $Adj. R^2$ in R\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglance(int_fit)$adj.r.squared\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.215841\n```\n\n\n:::\n:::\n\n\n\n\n## $R^2$ and Adjusted $R^2$\n\n$$R^2 = \\frac{SSM}{SST} = 1 - \\frac{SSR}{SST}$$\n\n<br>\n\n. . .\n\n$$R^2_{adj} = 1 - \\frac{SSR/(n-p-1)}{SST/(n-1)}$$\n\nwhere\n\n-   $n$ is the number of observations used to fit the model\n\n-   $p$ is the number of terms (not including the intercept) in the model\n\n## Using $R^2$ and Adjusted $R^2$\n\n-   Adjusted $R^2$ can be used as a quick assessment to compare the fit of multiple models; however, it should not be the only assessment!\n-   Use $R^2$ when describing the relationship between the response and predictor variables\n\n## Comparing interest rate models\n\n::::: columns\n::: {.column width=\"50%\"}\n**Model without interaction**\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# r-squared\nglance(int_fit)$r.squared\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.279854\n```\n\n\n:::\n:::\n\n\n\n\n<br>\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# adj-r-squared\nglance(int_fit)$adj.r.squared\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.215841\n```\n\n\n:::\n:::\n\n\n\n:::\n\n::: {.column width=\"50%\"}\n**Model with interaction**\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# r-squared\nglance(int_fit_2)$r.squared\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.2963437\n```\n\n\n:::\n:::\n\n\n\n\n<br>\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# adj-r-squared\nglance(int_fit_2)$adj.r.squared\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.1981591\n```\n\n\n:::\n:::\n\n\n\n:::\n:::::\n\n## Recap\n\n-   Fit and interpreted models with centered and standardized variables\n\n-   Interpreted interaction terms\n\n-   Used RMSE and $Adj. R^2$ to compare models\n\n## Next class\n\n-   Inference for regression\n\n-   See [Prepare for Lecture 08](../prepare/prepare-lec08.html)\n",
    "supporting": [
      "07-mlr-pt3_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n"
      ],
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}