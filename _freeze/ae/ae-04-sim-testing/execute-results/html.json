{
  "hash": "ca4f1bdcfdf8a28fe9f0032330208d05",
  "result": {
    "markdown": "---\ntitle: \"AE 04: Simulation-based hypothesis testing\"\nsubtitle: \"Houses in Duke Forest\"\ndate: \"Sep 14, 2022\"\neditor: visual\n---\n\n\n::: callout-important\nGo to the [course GitHub organization](https://github.com/sta210-fa22) and locate your `ae-04-bootstrap`- to get started.\n\nThe AE is due on GitHub by Saturday, September 17 at 11:59pm.\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tidymodels)\nlibrary(openintro)\nlibrary(knitr)\n```\n:::\n\n\n## Data\n\nThe data are on houses that were sold in the Duke Forest neighborhood of Durham, NC around November 2020. It was originally scraped from Zillow, and can be found in the `duke_forest` data set in the **openintro** R package.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(duke_forest)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 98\nColumns: 13\n$ address    <chr> \"1 Learned Pl, Durham, NC 27705\", \"1616 Pinecrest Rd, Durha…\n$ price      <dbl> 1520000, 1030000, 420000, 680000, 428500, 456000, 1270000, …\n$ bed        <dbl> 3, 5, 2, 4, 4, 3, 5, 4, 4, 3, 4, 4, 3, 5, 4, 5, 3, 4, 4, 3,…\n$ bath       <dbl> 4.0, 4.0, 3.0, 3.0, 3.0, 3.0, 5.0, 3.0, 5.0, 2.0, 3.0, 3.0,…\n$ area       <dbl> 6040, 4475, 1745, 2091, 1772, 1950, 3909, 2841, 3924, 2173,…\n$ type       <chr> \"Single Family\", \"Single Family\", \"Single Family\", \"Single …\n$ year_built <dbl> 1972, 1969, 1959, 1961, 2020, 2014, 1968, 1973, 1972, 1964,…\n$ heating    <chr> \"Other, Gas\", \"Forced air, Gas\", \"Forced air, Gas\", \"Heat p…\n$ cooling    <fct> central, central, central, central, central, central, centr…\n$ parking    <chr> \"0 spaces\", \"Carport, Covered\", \"Garage - Attached, Covered…\n$ lot        <dbl> 0.97, 1.38, 0.51, 0.84, 0.16, 0.45, 0.94, 0.79, 0.53, 0.73,…\n$ hoa        <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…\n$ url        <chr> \"https://www.zillow.com/homedetails/1-Learned-Pl-Durham-NC-…\n```\n:::\n:::\n\n\n## Exploratory data analysis\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(duke_forest, aes(x = area, y = price)) +\n  geom_point(alpha = 0.7) +\n  labs(\n    x = \"Area (square feet)\",\n    y = \"Sale price (USD)\",\n    title = \"Price and area of houses in Duke Forest\"\n  ) +\n  scale_y_continuous(labels = label_dollar()) \n```\n\n::: {.cell-output-display}\n![](ae-04-sim-testing_files/figure-html/scatterplot-1.png){width=672}\n:::\n:::\n\n\n## Model\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_fit <- linear_reg() |>\n  set_engine(\"lm\") |>\n  fit(price ~ area, data = duke_forest)\n\ntidy(df_fit) |>\n  kable(digits = 2)\n```\n\n::: {.cell-output-display}\n|term        |  estimate| std.error| statistic| p.value|\n|:-----------|---------:|---------:|---------:|-------:|\n|(Intercept) | 116652.33|  53302.46|      2.19|    0.03|\n|area        |    159.48|     18.17|      8.78|    0.00|\n:::\n:::\n\n\n## Hypothesis test\n\n::: callout-tip\nFor code chunks with fill-in-the-blank code, change code chunk option to `#| eval: true` once you've filled in the code.\n:::\n\n### State the null and alternative hypotheses\n\n\\[Add hypotheses in mathematical notation\\]\n\n### Generate null distribution using permutation\n\nFill in the code, then set `eval: true` .\n\n\n::: {.cell}\n\n```{.r .cell-code}\nn = 100\nset.seed(09142022)\n\nnull_dist <- _____ |>\n  specify(______) |>\n  hypothesize(null = \"independence\") |>\n  generate(reps = _____, type = \"permute\") |>\n  fit()\n```\n:::\n\n\n### Visualize distribution\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Code for histogram of null distribution\n```\n:::\n\n\n### Calculate the p-value.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# get observed fit \nobserved_fit <- duke_forest |>\n  specify(price ~ area) |>\n  fit()\n\n# calculate p-value\nget_p_value(\n  ____,\n  obs_stat = ____,\n  direction = \"two-sided\"\n)\n```\n:::\n\n\n-   What does the warning message mean?\n\n### State conclusion\n\n\\[Write your conclusion in the context of the data.\\]\n\n::: callout-important\nTo submit the AE:\n\n-   Render the document to produce the PDF with all of your work from today's class.\n-   Push all your work to your `ae-04-` repo on GitHub. (You do not submit AEs on Gradescope).\n:::\n",
    "supporting": [
      "ae-04-sim-testing_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}