{
  "hash": "f2186277a63b64c731b6c2a73ba30e39",
  "result": {
    "markdown": "---\ntitle: \"AE 08: Exam 01 Review\"\ndate: \"Oct 02, 2023\"\neditor: visual\n---\n\n\n::: callout-important\nGo to the [course GitHub organization](https://github.com/sta210-fa23) and locate your `ae-08` repo to get started.\n\nRender, commit, and push your responses to GitHub by the end of class. The responses are due in your GitHub repo no later than Thursday, October 5 at 11:59pm.\n:::\n\n## Packages\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tidymodels)\nlibrary(knitr)\nlibrary(patchwork)\n```\n:::\n\n\n## Restaurant tips\n\nWhat factors are associated with the amount customers tip at a restaurant? To answer this question, we will use data collected in 2011 by a student at St. Olaf who worked at a local restaurant.[^1]\n\n[^1]: Dahlquist, Samantha, and Jin Dong. 2011. \"The Effects of Credit Cards on Tipping.\" Project for Statistics 212-Statistics for the Sciences, St. Olaf College.\n\nThe variables we'll focus on for this analysis are\n\n-   `Tip`: amount of the tip\n-   `Party`: number of people in the party\n\nView the data set to see the remaining variables.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntips <- read_csv(\"data/tip-data.csv\")\n```\n:::\n\n\n## Exploratory data analysis\n\n\n::: {.cell}\n\n```{.r .cell-code}\np1 <- ggplot(data = tips, aes(x = Tip)) + \n  geom_histogram(color = \"white\", binwidth = 2) +\n  labs(x = \"Tips ($)\",\n       title = \"Tips at local restaurant\")\n\np2 <- ggplot(data = tips, aes(x = Party)) + \n  geom_histogram(color = \"white\") +\n  labs(x = \"Party\",\n       title = \"Number of diners in party\") +\n  xlim(c(0, 7))\n\np3 <- ggplot(data = tips, aes(x = Party, y = Tip)) + \n  geom_jitter() + \n  labs(x = \"Number of diners in party\", \n       y = \"Tips ($)\",\n       title = \"Tips vs. Party\")\n\n(p1 + p2) / p3\n```\n\n::: {.cell-output-display}\n![](ae-08-exam-01-review_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\nThe goal is to fit a model that uses the number of diners in the party to understand variability in the tips.\n\n## Exercise 1\n\n::: {.callout-note appearance=\"simple\" icon=\"false\"}\nWrite the statistical model.\n:::\n\n\\[add answer here\\]\n\n## Exercise 2\n\nThe regression output with 90% confidence intervals for the coefficients is shown below.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntips_fit <- linear_reg() |>\n  fit(Tip ~ Party, data = tips)\n\ntidy(tips_fit, conf.int = TRUE, conf.level = 0.9) |>\n  kable(digits = 3)\n```\n\n::: {.cell-output-display}\n|term        | estimate| std.error| statistic| p.value| conf.low| conf.high|\n|:-----------|--------:|---------:|---------:|-------:|--------:|---------:|\n|(Intercept) |    0.383|     0.321|     1.195|   0.234|   -0.147|     0.913|\n|Party       |    1.957|     0.118|    16.553|   0.000|    1.761|     2.152|\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nglance(tips_fit)$sigma\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 2.082824\n```\n:::\n:::\n\n\n::: {.callout-note appearance=\"simple\" icon=\"false\"}\nWrite the regression equation.\n:::\n\n\\[add answer here\\]\n\n## Exercise 3\n\n::: {.callout-note appearance=\"simple\" icon=\"false\"}\nThe regression standard error is 2.083. Write the definition of this value in the context of the data.\n:::\n\n\\[add answer here\\]\n\n## Exercise 4\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntips_aug <- augment(tips_fit$fit)\n\nrsq(tips_aug, truth = Tip, estimate = .fitted)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 3\n  .metric .estimator .estimate\n  <chr>   <chr>          <dbl>\n1 rsq     standard       0.621\n```\n:::\n\n```{.r .cell-code}\nrmse(tips_aug, truth = Tip, estimate = .fitted)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 3\n  .metric .estimator .estimate\n  <chr>   <chr>          <dbl>\n1 rmse    standard        2.07\n```\n:::\n:::\n\n\n::: {.callout-note appearance=\"simple\" icon=\"false\"}\n-   Interpret $R^2$ in the context of the data.\n\n-   Interpret RMSE in the context of the data.\n\n-   Based on these values, do you think the model is a good fit for the data? Why or why not?\n:::\n\n\\[add answer here\\]\n\n## Exercise 5\n\n::: {.callout-note appearance=\"simple\" icon=\"false\"}\nThe following code can be used to create a bootstrap distribution for the slope (and the intercept, though we'll focus primarily on the slope in our inference). Describe what each line of code does, supplemented by any visualizations that might help with your description.\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(1234)\n\nboot_dist <- tips |> # <1>\n  specify(Tip ~ Party) |> # <2>\n  generate(reps = 100, type = \"bootstrap\") |> # <3>\n  fit()\n```\n:::\n\n\n1.  \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\n2.  \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\n3.  \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\n\n## Exercise 6\n\n::: {.callout-note appearance=\"simple\" icon=\"false\"}\nUse the bootstrap distribution created in the previous exercise, `boot_dist`, to construct a 90% confidence interval for the slope. Interpret the interval in the context of the data.\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# add your code here\n```\n:::\n\n\nConduct a hypothesis test using permutation with 100 reps. State the hypotheses in words and mathematical notation. Also include a visualization of the null distribution of the slope with the observed slope marked as a vertical line.\n\nUse $\\alpha = 0.1$ as the decision-making threshold for rejecting or failing to reject the null hypothesis.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(1234)\n# add your code here\n```\n:::\n\n\n## Exercise 7\n\n::: {.callout-note appearance=\"simple\" icon=\"false\"}\nCheck the relevant conditions for Exercises 5 and 6. Are there any violations in conditions that make you reconsider your inferential findings?\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# add your code here\n```\n:::\n\n\n## Exercise 8\n\n::: {.callout-note appearance=\"simple\" icon=\"false\"}\nNow repeat Exercises 5 and 6 using approaches based on mathematical models. You can reference output from previous exercises and/or write new code as needed.\n:::\n\n\\[add answer here\\]\n\n## Exercise 9\n\n::: callout-note\nCheck the relevant conditions for Exercise 8. Are there any violations in conditions that make you reconsider your inferential findings? You can reference previous graphs / conditions and add any new code as needed.\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# add your code here\n```\n:::\n\n\n## Exercise 10\n\n::: {.callout-note appearance=\"simple\" icon=\"false\"}\n-   Based on your model, predict the tip for a party of 4.\n\n-   Suppose you're asked to construct a 95% confidence and a 95% prediction interval for your finding in the previous exercise. Which one would you expect to be wider and why? In your answer clearly state the difference between these intervals.\n\n-   Now construct the intervals and comment on whether your guess is confirmed.\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# add your code here\n```\n:::\n\n\n## To submit the AE:\n\n::: callout-important\n-   Render the document to produce the PDF with all of your work from today's class.\n-   Push all your work to your `ae-08` repo on GitHub. (You do not submit AEs on Gradescope).\n:::\n",
    "supporting": [
      "ae-08-exam-01-review_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}