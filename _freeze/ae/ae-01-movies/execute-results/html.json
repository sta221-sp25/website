{
  "hash": "8bb886ca74f527a549d5c6760fe265bf",
  "result": {
    "markdown": "---\ntitle: \"AE 01: Movie Budgets and Revenues\"\ndate: \"August 28, 2023\"\neditor: visual\n---\n\n\n::: callout-important\nFor this AE, you will discuss the questions in groups and submit answers on Ed Discussion. This AE does not count towards the Application Exercise grade.\n:::\n\nWe will look at the relationship between budget and revenue for movies made in the United States in 1986 to 2020. The dataset is created based on data from the [Internet Movie Database (IMDB)](https://www.imdb.com/).\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(readr)\nlibrary(tidyverse)\nlibrary(viridis)\nlibrary(DT)\n```\n:::\n\n\n## Data\n\nThe `movies` data set includes basic information about each movie including budget, genre, movie studio, director, etc. A full list of the variables may be found [here](https://github.com/danielgrijalva/movie-stats).\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmovies <- read_csv(\"https://raw.githubusercontent.com/danielgrijalva/movie-stats/master/movies.csv\")\n```\n:::\n\n\nView the first 10 rows of data.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmovies |>\n  slice(1:10)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10 × 15\n   name   rating genre  year released score  votes director writer star  country\n   <chr>  <chr>  <chr> <dbl> <chr>    <dbl>  <dbl> <chr>    <chr>  <chr> <chr>  \n 1 The S… R      Drama  1980 June 13…   8.4 9.27e5 Stanley… Steph… Jack… United…\n 2 The B… R      Adve…  1980 July 2,…   5.8 6.5 e4 Randal … Henry… Broo… United…\n 3 Star … PG     Acti…  1980 June 20…   8.7 1.20e6 Irvin K… Leigh… Mark… United…\n 4 Airpl… PG     Come…  1980 July 2,…   7.7 2.21e5 Jim Abr… Jim A… Robe… United…\n 5 Caddy… R      Come…  1980 July 25…   7.3 1.08e5 Harold … Brian… Chev… United…\n 6 Frida… R      Horr…  1980 May 9, …   6.4 1.23e5 Sean S.… Victo… Bets… United…\n 7 The B… R      Acti…  1980 June 20…   7.9 1.88e5 John La… Dan A… John… United…\n 8 Ragin… R      Biog…  1980 Decembe…   8.2 3.30e5 Martin … Jake … Robe… United…\n 9 Super… PG     Acti…  1980 June 19…   6.8 1.01e5 Richard… Jerry… Gene… United…\n10 The L… R      Biog…  1980 May 16,…   7   1   e4 Walter … Bill … Davi… United…\n# ℹ 4 more variables: budget <dbl>, gross <dbl>, company <chr>, runtime <dbl>\n```\n:::\n:::\n\n\n## Analysis\n\nWe begin by looking at how the average gross revenue (`gross`) has changed over time. Since we want to visualize the results, we will choose a few genres of interest for the analysis.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngenre_list <- c(\"Comedy\", \"Action\", \"Animation\", \"Horror\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nmovies |>\n  filter(genre %in% genre_list) |> \n  group_by(genre,year) |>\n  summarise(avg_gross = mean(gross)) |>\n  ggplot(mapping = aes(x = year, y = avg_gross, color=genre)) +\n    geom_point() + \n    geom_line() +\n    ylab(\"Average Gross Revenue (in US Dollars)\") +\n    ggtitle(\"Gross Revenue Over Time\") +\n    scale_color_viridis_d()\n```\n\n::: {.cell-output-display}\n![](ae-01-movies_files/figure-html/plot-rating-1.png){width=960}\n:::\n:::\n\n\n::: {.callout-note appearance=\"simple\"}\n*What do you observe from the plot?*\n:::\n\nNext, let's see the relationship between a movie's budget and its gross revenue.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmovies |>\n  filter(genre %in% genre_list, budget > 0) |> \n  ggplot(mapping = aes(x=log(budget), y = log(gross), color=genre)) +\n  geom_point() +\n  geom_smooth(method=\"lm\",se=FALSE) + \n  xlab(\"Log-transformed Budget\")+\n  ylab(\"Log-transformed Gross Revenue\") +\n  facet_wrap(~ genre) + \n  scale_color_viridis_d()\n```\n\n::: {.cell-output-display}\n![](ae-01-movies_files/figure-html/plot-revenue-1.png){width=960}\n:::\n:::\n\n\n## Exercises\n\n1.  Suppose we fit a regression model for each genre that uses budget to predict gross revenue. What are the signs of the correlation between `budget` and `gross` and the slope in each regression equation?\n\n2.  Suppose we fit the regression model from the previous question. Which genre would you expect to have the smallest residuals, on average (*residual = observed revenue - predicted revenue*)?\n\n    Post your response on ED Discussion.\n\n    -   [Section 001 (10:05am lecture)](https://edstem.org/us/courses/44523/discussion/3344010)\n\n    -   [Section 002 (1:25pm lecture)](https://edstem.org/us/courses/44523/discussion/3344021)\n\n3.  \\[Time permitting\\] Discuss the following: Notice in the graph above that `budget` and `gross` are log-transformed. Why are the log-transformed values of the variables displayed rather than the original values (in U.S. dollars)? **Post your group's response in the AE 01 Movie Budgets comments on Ed Discussion.**\n\n## References\n\n1.  [github.com/danielgrijalva/movie-stats](https://github.com/danielgrijalva/movie-stats){.uri}\n2.  [Internet Movie Database](https://www.imdb.com/)\n\n## Appendix\n\nBelow is a list of genres in the data set:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmovies |> \n  arrange(genre) |> \n  select(genre) |>\n  distinct() |>\n  datatable()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"datatables html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-f20e1cde1e4d2168be99\" style=\"width:100%;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-f20e1cde1e4d2168be99\">{\"x\":{\"filter\":\"none\",\"vertical\":false,\"data\":[[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\",\"13\",\"14\",\"15\",\"16\",\"17\",\"18\",\"19\"],[\"Action\",\"Adventure\",\"Animation\",\"Biography\",\"Comedy\",\"Crime\",\"Drama\",\"Family\",\"Fantasy\",\"History\",\"Horror\",\"Music\",\"Musical\",\"Mystery\",\"Romance\",\"Sci-Fi\",\"Sport\",\"Thriller\",\"Western\"]],\"container\":\"<table class=\\\"display\\\">\\n  <thead>\\n    <tr>\\n      <th> <\\/th>\\n      <th>genre<\\/th>\\n    <\\/tr>\\n  <\\/thead>\\n<\\/table>\",\"options\":{\"columnDefs\":[{\"orderable\":false,\"targets\":0}],\"order\":[],\"autoWidth\":false,\"orderClasses\":false}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n",
    "supporting": [
      "ae-01-movies_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../site_libs/htmlwidgets-1.6.2/htmlwidgets.js\"></script>\n<link href=\"../site_libs/datatables-css-0.0.0/datatables-crosstalk.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/datatables-binding-0.28/datatables.js\"></script>\n<script src=\"../site_libs/jquery-3.6.0/jquery-3.6.0.min.js\"></script>\n<link href=\"../site_libs/dt-core-1.13.4/css/jquery.dataTables.min.css\" rel=\"stylesheet\" />\n<link href=\"../site_libs/dt-core-1.13.4/css/jquery.dataTables.extra.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/dt-core-1.13.4/js/jquery.dataTables.min.js\"></script>\n<link href=\"../site_libs/crosstalk-1.2.0/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/crosstalk-1.2.0/js/crosstalk.min.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}